  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.6ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.5ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090331230953)
  [4;36;1mSQL (0.7ms)[0m   [0;1mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "price" decimal NOT NULL, "quantity" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090331230953')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mPRAGMA index_list("products")[0m
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090331230953)
Migrating to CreateOrders (20090331231455)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "room" varchar(255), "mobile" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090331231455')[0m
  [4;35;1mSQL (0.7ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.1ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("orders")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("products")[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:31:57) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m

ActionView::MissingTemplate (Missing template products/index.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendering rescues/layout (internal_server_error)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:32:21) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m

ActionView::MissingTemplate (Missing template products/index.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendering rescues/layout (internal_server_error)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:32:23) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" [0m

ActionView::MissingTemplate (Missing template products/index.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendering rescues/layout (internal_server_error)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:32:24) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m

ActionView::MissingTemplate (Missing template products/index.erb in view path app/views):
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendering rescues/layout (internal_server_error)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:33:23) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering products/index
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:33:44) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM "products" [0m
Rendering products/index
ERROR: compiling _run_haml_app47views47products47index46haml RAISED /Users/chris/Sites/gnw/app/views/products/index.haml:6: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/products/index.haml:8: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_haml_app47views47products47index46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :ugly=>false, :format=>:xhtml});_erbout = _hamlout.buffer;__in_erb_template = true;;

_hamlout.push_text("<h1>Products</h1>\n");@current_objects.each do |product|;

@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `module_eval'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `compile!'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action_with_flash'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `block in call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:54:in `serve_rails'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:74:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:63:in `pre_process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:54:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:39:in `receive_data'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run_machine'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/backends/base.rb:57:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/server.rb:150:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/controllers/controller.rb:80:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:173:in `run_command'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:139:in `run!'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/bin/thin:6:in `<top (required)>'
/usr/bin/thin:19:in `load'
/usr/bin/thin:19:in `<main>'

ActionView::TemplateError (/Users/chris/Sites/gnw/app/views/products/index.haml:6: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/products/index.haml:8: syntax error, unexpected $end, expecting keyword_end) on line #6 of app/views/products/index.haml:
3: -@current_objects.each do |product|
4:   

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (77.1ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:33:57) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering products/index
Completed in 10ms (View: 6, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:34:10) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering products/index

ActionView::TemplateError (4 spaces were used for indentation. Haml must be indented using two spaces.) on line #4 of app/views/products/index.haml:
1: %h1 Products
2: 
3: - @current_objects.each do |product|
4:     = product.name
5:   end

    app/views/products/index.haml:4
    haml (2.0.9) lib/haml/precompiler.rb:163:in `block in precompile'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each_with_index'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `precompile'
    haml (2.0.9) lib/haml/engine.rb:100:in `initialize'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `new'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (74.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:34:18) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering products/index
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:34:19) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM "products" [0m
Rendering products/index
Completed in 5ms (View: 1, DB: 0) | 200 OK [http://localhost/products]
  [4;36;1mProduct Exists (0.1ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red Label') LIMIT 1[0m
  [4;35;1mProduct Create (0.6ms)[0m   [0mINSERT INTO "products" ("name", "price", "quantity", "created_at", "updated_at") VALUES('Red Label', 299.99, 12, '2009-03-31 23:34:52', '2009-03-31 23:34:52')[0m


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:35:00) [GET]
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering products/index
Completed in 17ms (View: 12, DB: 1) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:35:05) [GET]
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM "products" [0m
Rendering products/index
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:35:13) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering products/index
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:35:15) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:35:25) [GET]
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering products/index
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 00:35:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

ActionView::MissingTemplate (Missing template products/show.erb in view path app/views):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendering rescues/layout (internal_server_error)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:35:37) [GET]
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering products/index
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:40:50) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 27ms (View: 22, DB: 1) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:41:11) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:41:39) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:50:04) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:50:11) [GET]
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 10ms (View: 4, DB: 1) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:50:21) [GET]
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 9ms (View: 4, DB: 1) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:50:39) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:50:40) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:50:41) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:50:41) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ApplicationController#index (for 127.0.0.1 at 2009-04-01 00:50:52) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendering rescues/layout (not_found)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:50:59) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:52:09) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 27ms (View: 22, DB: 1) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:52:31) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:52:32) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:52:33) [GET]
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 11ms (View: 5, DB: 1) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:52:33) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:52:43) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:52:49) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:14) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:15) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:17) [GET]
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:17) [GET]
  [4;36;1mProduct Load (1.7ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 9ms (View: 3, DB: 2) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:18) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:38) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:41) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:42) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:56) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:53:57) [GET]
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:54:16) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:54:38) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for ::1 at 2009-04-01 00:54:49) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 25ms (View: 20, DB: 1) | 200 OK [http://localhost/products]


Processing ProductsController#index (for ::1 at 2009-04-01 00:54:58) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 10ms (View: 5, DB: 1) | 200 OK [http://localhost/products]


Processing ProductsController#index (for ::1 at 2009-04-01 00:55:25) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:55:34) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 26ms (View: 21, DB: 1) | 200 OK [http://localhost/products]


Processing ApplicationController#index (for 127.0.0.1 at 2009-04-01 00:55:58) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendering rescues/layout (not_found)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:56:00) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:56:02) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 00:56:04) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ApplicationController#index (for 127.0.0.1 at 2009-04-01 20:31:51) [GET]

ActionController::RoutingError (No route matches "/" with {:method=>:get}):
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendering rescues/layout (not_found)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:31:53) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:31:56) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 7ms (View: 3, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:34:40) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/products]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:34:41) [GET]
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Completed in 8ms (View: 4, DB: 1) | 200 OK [http://localhost/products]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:34:43) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

ActionView::MissingTemplate (Missing template products/show.erb in view path app/views):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendering rescues/layout (internal_server_error)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:35:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:35:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 13ms (View: 8, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:46:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 27ms (View: 21, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:47:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:47:13) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 61ms (View: 56, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update to 1 (for 127.0.0.1 at 2009-04-01 20:47:22) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4="}
Redirected to http://localhost:3000/products/1
Completed in 9ms (DB: 0) | 302 Found [http://localhost/basket.1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:47:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:48:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.5ms)
Completed in 20ms (View: 15, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:48:35) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.1ms)
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:48:42) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.6ms)
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:49:44) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.9ms)
Completed in 25ms (View: 21, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:50:19) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.1ms)
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:50:33) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (1.2ms)
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:51:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 48ms (View: 43, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:51:51) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:52:15) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:52:59) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:53:18) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (1.2ms)
Completed in 19ms (View: 15, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:31) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:32) [GET]
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:32) [GET]
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:33) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 43ms (View: 38, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:35) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:35) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:36) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:37) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:37) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:38) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:38) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:54:39) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 11ms (View: 7, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:57:21) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 41ms (View: 37, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:57:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update to 1 (for 127.0.0.1 at 2009-04-01 20:57:23) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4="}

ActiveRecord::RecordNotFound (Couldn't find Product without an ID):
  app/controllers/baskets_controller.rb:3:in `update'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (54.7ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (not_found)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:57:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:57:45) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 20:57:46) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

TypeError (can't convert Fixnum into String):
  app/controllers/baskets_controller.rb:4:in `+'
  app/controllers/baskets_controller.rb:4:in `update'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (52.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 20:58:12) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

TypeError (can't convert Fixnum into String):
  app/controllers/baskets_controller.rb:4:in `+'
  app/controllers/baskets_controller.rb:4:in `update'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (57.0ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:58:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:58:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 20:58:16) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

TypeError (can't convert Fixnum into String):
  app/controllers/baskets_controller.rb:4:in `+'
  app/controllers/baskets_controller.rb:4:in `update'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (52.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:58:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:58:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:58:23) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:59:43) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (1.4ms)
Completed in 35ms (View: 30, DB: 1) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:59:45) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:59:46) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:59:48) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:59:49) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:59:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:59:50) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:59:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:59:51) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.3ms)
Completed in 9ms (View: 5, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 20:59:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 20:59:52) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:01:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:01:21) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 9ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:01:21) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:01:23) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:01:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:01:23) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:01:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:01:24) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:01:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.1ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:05:37) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (1.5ms)
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:05:41) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:05:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:05:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:05:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:05:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:05:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:08:14) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:08:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:08:14) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:08:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:08:16) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:08:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:08:18) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:08:18) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:09:49) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:09:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:09:50) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:09:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:09:51) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:09:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.3ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:10:00) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (1.4ms)
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:10:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (1.5ms)
Completed in 35ms (View: 29, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:10:57) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 9ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:10:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:11:23) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:11:23) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.3ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:11:24) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:11:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (29.2ms)
Completed in 38ms (View: 33, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:11:27) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.4ms)
Completed in 14ms (View: 9, DB: 0) | 200 OK [http://localhost/products/]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:11:30) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:11:30) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.5ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:11:33) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:11:33) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.4ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:14:33) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (1.8ms)
Completed in 36ms (View: 30, DB: 1) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:14:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.3ms)
Completed in 15ms (View: 10, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:14:38) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 9ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:14:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:14:40) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 29ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:14:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.3ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:14:41) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:14:41) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered baskets/_mini (0.2ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:14:46) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (0.4ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:15:20) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered baskets/_mini (1.6ms)
Completed in 14ms (View: 10, DB: 0) | 200 OK [http://localhost/products/]


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:15:22) [GET]
Rendering template within layouts/application
Rendering orders/new
Rendered baskets/_mini (0.5ms)
Completed in 13ms (View: 9, DB: 0) | 200 OK [http://localhost/orders/new]


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:15:41) [GET]
Rendering template within layouts/application
Rendering orders/new
Rendered baskets/_mini (0.5ms)
Completed in 13ms (View: 8, DB: 0) | 200 OK [http://localhost/orders/new]


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:16:53) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 12ms (View: 7, DB: 0) | 200 OK [http://localhost/orders/new]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:16:55) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (1.6ms)
Completed in 21ms (View: 17, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:16:56) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (0.5ms)
Completed in 8ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:16:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 13ms (View: 8, DB: 0) | 200 OK [http://localhost/products/1]


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:17:00) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?id=1]


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:17:00) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:17:01) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 6ms (View: 1, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:18:34) [GET]
Filter chain halted as [:load_basket] rendered_or_redirected.
Completed in 1ms (View: 1, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:19:06) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 6ms (View: 1, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:19:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:19:09) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:19:09) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:19:16) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 2ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:19:16) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 8ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:19:17) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 6ms (View: 1, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:19:31) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 11ms (View: 6, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:20:00) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 12ms (View: 7, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:20:29) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:20:33) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 8, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:21:14) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
ERROR: compiling _run_haml_app47views47orders47new46haml RAISED /Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_haml_app47views47orders47new46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :ugly=>false, :format=>:xhtml});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<h2>Checkout</h2>\n<h3>Your Order</h3>\n"); @items.each do |item|;
haml_temp =  item.name;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
end; form_for(@order) do |o|;

@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `module_eval'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `compile!'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action_with_flash'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `block in call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:54:in `serve_rails'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:74:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:63:in `pre_process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:54:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:39:in `receive_data'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run_machine'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/backends/base.rb:57:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/server.rb:150:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/controllers/controller.rb:80:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:173:in `run_command'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:139:in `run!'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/bin/thin:6:in `<top (required)>'
/usr/bin/thin:19:in `load'
/usr/bin/thin:19:in `<main>'

ActionView::TemplateError (/Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end) on line #11 of app/views/orders/new.haml:
8: - form_for(@order) do |o|

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (76.9ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:21:26) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
ERROR: compiling _run_haml_app47views47orders47new46haml RAISED /Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_haml_app47views47orders47new46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :ugly=>false, :format=>:xhtml});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<h2>Checkout</h2>\n<h3>Your Order</h3>\n"); @items.each do |item|;
haml_temp =  item.name;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
end; form_for(@order) do;

@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `module_eval'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `compile!'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action_with_flash'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `block in call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:54:in `serve_rails'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:74:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:63:in `pre_process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:54:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:39:in `receive_data'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run_machine'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/backends/base.rb:57:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/server.rb:150:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/controllers/controller.rb:80:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:173:in `run_command'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:139:in `run!'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/bin/thin:6:in `<top (required)>'
/usr/bin/thin:19:in `load'
/usr/bin/thin:19:in `<main>'

ActionView::TemplateError (/Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end) on line #11 of app/views/orders/new.haml:
8: - form_for(@order) do

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (71.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:21:37) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
ERROR: compiling _run_haml_app47views47orders47new46haml RAISED /Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_haml_app47views47orders47new46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :ugly=>false, :format=>:xhtml});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<h2>Checkout</h2>\n<h3>Your Order</h3>\n"); @items.each do |item|;
haml_temp =  item.name;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
end; form_for(@current_object) do;

@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `module_eval'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `compile!'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action_with_flash'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `block in call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:54:in `serve_rails'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:74:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:63:in `pre_process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:54:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:39:in `receive_data'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run_machine'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/backends/base.rb:57:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/server.rb:150:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/controllers/controller.rb:80:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:173:in `run_command'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:139:in `run!'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/bin/thin:6:in `<top (required)>'
/usr/bin/thin:19:in `load'
/usr/bin/thin:19:in `<main>'

ActionView::TemplateError (/Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end) on line #11 of app/views/orders/new.haml:
8: - form_for(@current_object) do

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (122.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:21:37) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
ERROR: compiling _run_haml_app47views47orders47new46haml RAISED /Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_haml_app47views47orders47new46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :ugly=>false, :format=>:xhtml});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<h2>Checkout</h2>\n<h3>Your Order</h3>\n"); @items.each do |item|;
haml_temp =  item.name;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
end; form_for(@current_object) do;

@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `module_eval'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `compile!'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action_with_flash'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `block in call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:54:in `serve_rails'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:74:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:63:in `pre_process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:54:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:39:in `receive_data'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run_machine'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/backends/base.rb:57:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/server.rb:150:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/controllers/controller.rb:80:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:173:in `run_command'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:139:in `run!'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/bin/thin:6:in `<top (required)>'
/usr/bin/thin:19:in `load'
/usr/bin/thin:19:in `<main>'

ActionView::TemplateError (/Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end) on line #11 of app/views/orders/new.haml:
8: - form_for(@current_object) do

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (72.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:21:43) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
ERROR: compiling _run_haml_app47views47orders47new46haml RAISED /Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_haml_app47views47orders47new46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :ugly=>false, :format=>:xhtml});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<h2>Checkout</h2>\n<h3>Your Order</h3>\n"); @items.each do |item|;
haml_temp =  item.name;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
end;haml_temp =  form_for(@current_object) do;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `module_eval'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `compile!'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action_with_flash'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `block in call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:54:in `serve_rails'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:74:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:63:in `pre_process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:54:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:39:in `receive_data'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run_machine'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/backends/base.rb:57:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/server.rb:150:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/controllers/controller.rb:80:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:173:in `run_command'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:139:in `run!'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/bin/thin:6:in `<top (required)>'
/usr/bin/thin:19:in `load'
/usr/bin/thin:19:in `<main>'

ActionView::TemplateError (/Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end) on line #11 of app/views/orders/new.haml:
8: = form_for(@current_object) do

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (111.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:24:10) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:24:12) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 5ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:24:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:24:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 9ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:24:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 9ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:24:16) [GET]
Rendering template within layouts/application
Rendering orders/new
ERROR: compiling _run_haml_app47views47orders47new46haml RAISED /Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_haml_app47views47orders47new46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :ugly=>false, :format=>:xhtml});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<h2>Checkout</h2>\n<h3>Your Order</h3>\n"); @items.each do |item|;
haml_temp =  item.name;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
end;haml_temp =  form_for(@order) do;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `module_eval'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `compile!'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action_with_flash'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `block in call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:54:in `serve_rails'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:74:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:63:in `pre_process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:54:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:39:in `receive_data'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run_machine'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/backends/base.rb:57:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/server.rb:150:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/controllers/controller.rb:80:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:173:in `run_command'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:139:in `run!'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/bin/thin:6:in `<top (required)>'
/usr/bin/thin:19:in `load'
/usr/bin/thin:19:in `<main>'

ActionView::TemplateError (/Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end) on line #11 of app/views/orders/new.haml:
8: = form_for(@order) do

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (105.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:24:29) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (Missing block) on line #8 of app/views/orders/new.haml:
5: - @items.each do |item|
6:   = item.name
7:   
8: - form_for(@order)

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (71.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:24:36) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (Illegal element: classes and ids must have values.) on line #8 of app/views/orders/new.haml:
5: - @items.each do |item|
6:   = item.name
7:   
8: # - form_for(@order)

    app/views/orders/new.haml:8
    haml (2.0.9) lib/haml/precompiler.rb:548:in `render_tag'
    haml (2.0.9) lib/haml/precompiler.rb:642:in `render_div'
    haml (2.0.9) lib/haml/precompiler.rb:191:in `process_line'
    haml (2.0.9) lib/haml/precompiler.rb:156:in `block in precompile'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each_with_index'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `precompile'
    haml (2.0.9) lib/haml/engine.rb:100:in `initialize'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `new'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (80.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:24:42) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 13ms (View: 7, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:24:55) [GET]
Rendering template within layouts/application
Rendering orders/new
ERROR: compiling _run_haml_app47views47orders47new46haml RAISED /Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end
Function body:           def _run_haml_app47views47orders47new46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :ugly=>false, :format=>:xhtml});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<h2>Checkout</h2>\n<h3>Your Order</h3>\n"); @items.each do |item|;
haml_temp =  item.name;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
end; form_for(@order) do |o|;

@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `module_eval'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `compile!'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action_with_flash'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `block in call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:54:in `serve_rails'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:74:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:63:in `pre_process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:54:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:39:in `receive_data'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run_machine'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/backends/base.rb:57:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/server.rb:150:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/controllers/controller.rb:80:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:173:in `run_command'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:139:in `run!'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/bin/thin:6:in `<top (required)>'
/usr/bin/thin:19:in `load'
/usr/bin/thin:19:in `<main>'

ActionView::TemplateError (/Users/chris/Sites/gnw/app/views/orders/new.haml:11: syntax error, unexpected keyword_ensure, expecting keyword_end
/Users/chris/Sites/gnw/app/views/orders/new.haml:13: syntax error, unexpected $end, expecting keyword_end) on line #11 of app/views/orders/new.haml:
8: - form_for(@order) do |o|

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (69.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:25:02) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 14ms (View: 7, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:25:21) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 15ms (View: 8, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:26:42) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (undefined method `submit_button' for #<ActionView::Base:0x2476718>) on line #13 of app/views/orders/new.haml:
10:   = o.text_field :room
11:   = o.text_field :mobile
12:   
13:   = submit_button "Go!"

    app/views/orders/new.haml:13:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (116.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:26:50) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (undefined local variable or method `submit_button' for #<ActionView::Base:0x284b3c0>) on line #13 of app/views/orders/new.haml:
10:   = o.text_field :room
11:   = o.text_field :mobile
12:   
13:   = submit_button

    app/views/orders/new.haml:13:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (119.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:27:01) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:27:09) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 15ms (View: 9, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:27:17) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:27:19) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>""}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:27:21) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>""}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 2, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:27:22) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>""}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 49ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:27:56) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>""}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 22ms (View: 9, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:28:00) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>""}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 15ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:28:04) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:28:05) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:28:06) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:28:35) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (undefined method `error_messages_on' for #<ActionView::Helpers::FormBuilder:0x242b7cc>) on line #9 of app/views/orders/new.haml:
6:   = item.name
7:   
8: - form_for(@order) do |o|
9:   %p= o.error_messages_on :name
10:   %p= o.text_field :name
11:   %p= o.text_field :room
12:   %p= o.text_field :mobile

    app/views/orders/new.haml:9:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (76.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:28:39) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (undefined method `error_messages_on' for #<ActionView::Base:0x280f9d8>) on line #9 of app/views/orders/new.haml:
6:   = item.name
7:   
8: - form_for(@order) do |o|
9:   %p= error_messages_on :name
10:   %p= o.text_field :name
11:   %p= o.text_field :room
12:   %p= o.text_field :mobile

    app/views/orders/new.haml:9:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (120.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:28:48) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #9 of app/views/orders/new.haml:
6:   = item.name
7:   
8: - form_for(@order) do |o|
9:   %p= error_message_on :name
10:   %p= o.text_field :name
11:   %p= o.text_field :room
12:   %p= o.text_field :mobile

    app/views/orders/new.haml:9:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (76.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:28:53) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 57ms (View: 51, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:28:55) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>""}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 22ms (View: 4, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:29:12) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (There's no Ruby code for = to evaluate.) on line #9 of app/views/orders/new.haml:
6:   = item.name
7:   
8: - form_for(@order) do |o|
9:   %p= 
10:   %p= o.text_field :name, o.error_message_on :name
11:   %p= o.text_field :room
12:   %p= o.text_field :mobile

    app/views/orders/new.haml:9
    haml (2.0.9) lib/haml/precompiler.rb:586:in `render_tag'
    haml (2.0.9) lib/haml/precompiler.rb:192:in `process_line'
    haml (2.0.9) lib/haml/precompiler.rb:156:in `block in precompile'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `each_with_index'
    haml (2.0.9) lib/haml/precompiler.rb:122:in `precompile'
    haml (2.0.9) lib/haml/engine.rb:100:in `initialize'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `new'
    haml (2.0.9) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (78.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:29:17) [GET]
Rendering template within layouts/application
Rendering orders/new
ERROR: compiling _run_haml_app47views47orders47new46haml RAISED /Users/chris/Sites/gnw/app/views/orders/new.haml:9: syntax error, unexpected tSYMBEG, expecting keyword_end
...eld :name, o.error_message_on :name;
...                               ^
Function body:           def _run_haml_app47views47orders47new46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"], :attr_wrapper=>"'", :ugly=>false, :format=>:xhtml});_erbout = _hamlout.buffer;__in_erb_template = true;;



_hamlout.push_text("<h2>Checkout</h2>\n<h3>Your Order</h3>\n"); @items.each do |item|;
haml_temp =  item.name;
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);
end; form_for(@order) do |o|;
_hamlout.push_text("<p>", false, 1);haml_temp = o.text_field :name, o.error_message_on :name;
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);_hamlout.push_text("</p>\n<p>", true, 1);haml_temp = o.text_field :room;
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);_hamlout.push_text("</p>\n<p>", true, 1);haml_temp = o.text_field :mobile;
haml_temp = _hamlout.push_script(haml_temp, nil, true, false, false, false);
_hamlout.push_text("</p>\n", true);haml_temp =  submit_tag "Gimme booze";
haml_temp = _hamlout.push_script(haml_temp, false, false, false, false, false);end;
@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `module_eval'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:77:in `compile!'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:61:in `compile'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/renderable.rb:28:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/template.rb:194:in `render_template'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:260:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:343:in `_render_with_layout'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_view/base.rb:257:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1241:in `render_for_file'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:937:in `render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `block in render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:51:in `render_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1317:in `default_render'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:1323:in `perform_action'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:617:in `call_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:610:in `perform_action_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `block in perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `block in ms'
/usr/lib/ruby19/1.9.1/benchmark.rb:308:in `realtime'
/usr/lib/ruby19/gems/1.9.1/gems/activesupport-2.3.2/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/benchmarking.rb:68:in `perform_action_with_benchmark'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rescue.rb:160:in `perform_action_with_rescue'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/flash.rb:141:in `perform_action_with_flash'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:523:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/filters.rb:606:in `process_with_filters'
/usr/lib/ruby19/gems/1.9.1/gems/haml-2.0.9/lib/sass/plugin/rails.rb:19:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:391:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/base.rb:386:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/routing/route_set.rb:433:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:88:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:111:in `_call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:82:in `block in initialize'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:29:in `block in call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:9:in `cache'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/query_cache.rb:28:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/activerecord-2.3.2/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/head.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/methodoverride.rb:24:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/params_parser.rb:15:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/rewindable_input.rb:25:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/session/cookie_store.rb:93:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/reloader.rb:9:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/failsafe.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `block in call'
<internal:prelude>:8:in `synchronize'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/vendor/rack-1.0/rack/lock.rb:11:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:106:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/cgi_process.rb:44:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:102:in `dispatch_cgi'
/usr/lib/ruby19/gems/1.9.1/gems/actionpack-2.3.2/lib/action_controller/dispatcher.rb:28:in `dispatch'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:54:in `serve_rails'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/rack/adapter/rails.rb:74:in `call'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:63:in `pre_process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:54:in `process'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/connection.rb:39:in `receive_data'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run_machine'
/usr/lib/ruby19/gems/1.9.1/gems/eventmachine-0.12.6/lib/eventmachine.rb:240:in `run'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/backends/base.rb:57:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/server.rb:150:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/controllers/controller.rb:80:in `start'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:173:in `run_command'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/lib/thin/runner.rb:139:in `run!'
/usr/lib/ruby19/gems/1.9.1/gems/thin-1.0.0/bin/thin:6:in `<top (required)>'
/usr/bin/thin:19:in `load'
/usr/bin/thin:19:in `<main>'

ActionView::TemplateError (/Users/chris/Sites/gnw/app/views/orders/new.haml:9: syntax error, unexpected tSYMBEG, expecting keyword_end
...eld :name, o.error_message_on :name;
...                               ^) on line #9 of app/views/orders/new.haml:
6:   = item.name
7:   
8: - form_for(@order) do |o|
9:   %p= o.text_field :name, o.error_message_on :name
10:   %p= o.text_field :room
11:   %p= o.text_field :mobile
12:   

    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (69.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:29:30) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (wrong number of arguments (1 for 2)) on line #9 of app/views/orders/new.haml:
6:   = item.name
7:   
8: - form_for(@order) do |o|
9:   %p= o.text_field :name, error_message_on(:name)
10:   %p= o.text_field :room
11:   %p= o.text_field :mobile
12:   

    app/views/orders/new.haml:9:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (119.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:29:34) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (undefined method `merge' for "":String) on line #9 of app/views/orders/new.haml:
6:   = item.name
7:   
8: - form_for(@order) do |o|
9:   %p= o.text_field :name, o.error_message_on(:name)
10:   %p= o.text_field :room
11:   %p= o.text_field :mobile
12:   

    app/views/orders/new.haml:9:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (78.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:29:46) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (undefined method `merge' for "":String) on line #9 of app/views/orders/new.haml:
6:   = item.name
7:   
8: - form_for(@order) do |o|
9:   %p= o.text_field :name, ""
10:   %p= o.text_field :room
11:   %p= o.text_field :mobile
12:   

    app/views/orders/new.haml:9:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (77.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:29:47) [GET]
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (undefined method `merge' for "":String) on line #9 of app/views/orders/new.haml:
6:   = item.name
7:   
8: - form_for(@order) do |o|
9:   %p= o.text_field :name, ""
10:   %p= o.text_field :room
11:   %p= o.text_field :mobile
12:   

    app/views/orders/new.haml:9:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
    thin (1.0.0) lib/thin/connection.rb:54:in `process'
    thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
    eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
    thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
    thin (1.0.0) lib/thin/server.rb:150:in `start'
    thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
    thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
    thin (1.0.0) lib/thin/runner.rb:139:in `run!'
    thin (1.0.0) bin/thin:6:in `<top (required)>'
    /usr/bin/thin:19:in `load'
    /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (121.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:30:38) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:30:39) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>""}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:31:08) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>""}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:31:17) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"dfdsf"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:31:26) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"435 45354"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:31:27) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"435 45354"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:31:56) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"435 45354"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 13ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:31:59) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"435 s45354"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:32:02) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"43545354"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:32:22) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"43545354"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 13ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:32:25) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"4354"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:32:30) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"4354 5"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:32:33) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"4354 55"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 14ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:32:46) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"4354 55"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new (422)
Completed in 13ms (View: 3, DB: 0) | 422 Unprocessable Entity [http://localhost/orders]
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090331230953)
Migrating to CreateOrders (20090331231455)
Migrating to CreateItems (20090401203431)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "items" ("order_id" integer, "product_id" integer) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090401203431')[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.0ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("orders")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("products")[0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:37:47) [GET]

ActiveRecord::UnknownAttributeError (unknown attribute: items):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (87.0ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:38:21) [GET]

ActiveRecord::HasManyThroughAssociationNotFoundError (Could not find the association :items in model Order):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (69.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:38:42) [GET]

ActiveRecord::HasManyThroughAssociationNotFoundError (Could not find the association :items in model Order):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (109.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:38:43) [GET]

ActiveRecord::HasManyThroughAssociationNotFoundError (Could not find the association :items in model Order):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (61.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:38:51) [GET]

ActiveRecord::UnknownAttributeError (unknown attribute: items):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (95.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ApplicationController#new (for 127.0.0.1 at 2009-04-01 21:39:02) [GET]

SyntaxError (/Users/chris/Sites/gnw/app/controllers/orders_controller.rb:7: syntax error, unexpected tSTAR
    @order = Order.new(:items => *@items)
                                  ^):
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (51.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:39:08) [GET]

ActiveRecord::UnknownAttributeError (unknown attribute: items):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (57.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)
  [4;36;1mItem Load (0.4ms)[0m   [0;1mSELECT * FROM "items" [0m
  [4;35;1mOrder Load (0.2ms)[0m   [0mSELECT * FROM "orders" LIMIT 1[0m
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" LIMIT 1[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM "products" LIMIT 1[0m
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM "products" LIMIT 1[0m
  [4;35;1mOrder Load (0.3ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "items" ON "orders".id = "items".order_id WHERE (("items".product_id = 1)) [0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:41:47) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 92ms (View: 20, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:42:12) [GET]
+++
Rendering template within layouts/application
Rendering orders/new
Completed in 14ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:42:13) [GET]
+++
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:42:25) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:42:29) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (1.4ms)
Completed in 22ms (View: 17, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:42:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 47ms (View: 9, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:42:31) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 12ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:42:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:42:32) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:42:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:42:32) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:42:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:42:34) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

ActiveRecord::AssociationTypeMismatch (Item(#19104140) expected, got Product(#19157160)):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (94.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:42:38) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

ActiveRecord::AssociationTypeMismatch (Item(#21275190) expected, got Product(#21325690)):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (61.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:42:39) [GET]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

ActiveRecord::AssociationTypeMismatch (Item(#11392010) expected, got Product(#12370880)):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (103.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:42:56) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

ActiveRecord::AssociationTypeMismatch (Item(#21345730) expected, got Array(#547850)):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (61.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:43:09) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

ActiveRecord::AssociationTypeMismatch (Item(#12462120) expected, got Product(#12542710)):
  app/controllers/orders_controller.rb:7:in `new'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (102.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:43:23) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:43:47) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 22ms (View: 10, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:43:57) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 22ms (View: 10, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:45:20) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:45:21) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 54ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:45:28) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

ActiveRecord::AssociationTypeMismatch (Item(#24286430) expected, got Product(#24335660)):
  app/controllers/orders_controller.rb:8:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (61.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:45:34) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:45:47) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"dfgdfg", "mobile"=>"4564565756567", "items"=>"[]"}, "commit"=>"Gimme booze"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

NoMethodError (undefined method `each' for "[]":String):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (98.2ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "items" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "orders" [0m
  [4;36;1mOrder Load (0.2ms)[0m   [0;1mSELECT * FROM "orders" LIMIT 1[0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:50:58) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 22ms (View: 10, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:51:07) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 22ms (View: 10, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:53:17) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:53:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:53:20) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:53:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:53:21) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:53:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:53:22) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:53:22) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:53:24) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
  [4;35;1mProduct Exists (0.2ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Blue Label') LIMIT 1[0m
  [4;36;1mProduct Create (0.4ms)[0m   [0;1mINSERT INTO "products" ("name", "price", "quantity", "created_at", "updated_at") VALUES('Blue Label', 295.99, 3, '2009-04-01 20:54:02', '2009-04-01 20:54:02')[0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:54:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 21:54:13) [GET]
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:54:15) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 44ms (View: 4, DB: 0) | 200 OK [http://localhost/products/2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:54:17) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"2"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/2
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:54:17) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 1) | 200 OK [http://localhost/products/2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 21:54:18) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"2"}
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Redirected to http://localhost:3000/products/2
Completed in 7ms (DB: 1) | 302 Found [http://localhost/basket?id=2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 21:54:18) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 1) | 200 OK [http://localhost/products/2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:54:19) [GET]
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 19ms (View: 5, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:56:58) [GET]
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m

ArgumentError (wrong number of arguments (0 for 1)):
  app/controllers/orders_controller.rb:7:in `[]'
  app/controllers/orders_controller.rb:7:in `new'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (89.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:58:29) [GET]
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 25ms (View: 11, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:58:38) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 23ms (View: 11, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:58:44) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644", "products"=>["[1, 2, 2, 2]"]}, "commit"=>"Gimme booze"}
  [4;35;1mProduct Load (1.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m

ActiveRecord::AssociationTypeMismatch (Product(#21177730) expected, got String(#565680)):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (62.9ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:58:48) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 55ms (View: 5, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:58:56) [GET]
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" [0m
Completed in 25ms (View: 12, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for 127.0.0.1 at 2009-04-01 21:58:57) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" [0m
Completed in 18ms (View: 6, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for 127.0.0.1 at 2009-04-01 21:58:59) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644", "products"=>["[#<Product id: 1, name: \"Red Label\", price: #<BigDecimal:28c0094,'0.29999E3',8(12)>, quantity: 12, created_at: \"2009-03-31 23:34:52\", updated_at: \"2009-03-31 23:34:52\">, #<Product id: 2, name: \"Blue Label\", price: #<BigDecimal:28bfbd0,'0.29599E3',8(12)>, quantity: 3, created_at: \"2009-04-01 20:54:02\", updated_at: \"2009-04-01 20:54:02\">]"]}, "commit"=>"Gimme booze"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m

ActiveRecord::AssociationTypeMismatch (Product(#21174040) expected, got String(#565680)):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (62.9ms)
Rendered rescues/_request_and_response (0.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 21:59:54) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644", "products"=>["[#<Product id: 1, name: \"Red Label\", price: #<BigDecimal:28c0094,'0.29999E3',8(12)>, quantity: 12, created_at: \"2009-03-31 23:34:52\", updated_at: \"2009-03-31 23:34:52\">, #<Product id: 2, name: \"Blue Label\", price: #<BigDecimal:28bfbd0,'0.29599E3',8(12)>, quantity: 3, created_at: \"2009-04-01 20:54:02\", updated_at: \"2009-04-01 20:54:02\">]"]}, "commit"=>"Gimme booze"}
  [4;36;1mProduct Load (231.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m

ActiveRecord::AssociationTypeMismatch (Product(#12347530) expected, got String(#565680)):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
  /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (64.4ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:00:26) [GET]
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new

ActionView::TemplateError (wrong number of arguments (4 for 3)) on line #16 of app/views/orders/new.haml:
13:   %p= o.error_message_on(:mobile)
14:   %p= o.text_field(:mobile)
15:   
16:   = hidden_field_tag "order[products][]", *[1,2,3]
17: 
18:   = submit_tag "Gimme booze"

    app/views/orders/new.haml:16:in `block in _run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `call'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:165:in `block in form_for_with_haml'
    haml (2.0.9) lib/haml/helpers.rb:447:in `call'
    haml (2.0.9) lib/haml/helpers.rb:447:in `block in haml_bind_proc'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:171:in `form_for_with_haml'
    app/views/orders/new.haml:8:in `_run_haml_app47views47orders47new46haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/haml/helpers/action_view_mods.rb:14:in `render_with_haml'
    haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
    <internal:prelude>:8:in `synchronize'
    /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
    /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
    /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (122.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:00:33) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 88ms (View: 76, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:01:10) [GET]
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 18ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:01:12) [GET]
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:01:13) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 47ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:01:24) [GET]
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 25ms (View: 11, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:02:33) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 24ms (View: 10, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:02:34) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"", "room"=>"", "mobile"=>"", "products"=>["1"]}, "commit"=>"Gimme booze"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m

ActiveRecord::AssociationTypeMismatch (Product(#22662060) expected, got String(#565680)):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
  /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (93.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:02:36) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:03:21) [GET]
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 23ms (View: 10, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:03:23) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644", "product_ids"=>["1"]}, "commit"=>"Gimme booze"}
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m

ActionView::MissingTemplate (Missing template orders/create.erb in view path app/views):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
  /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:03:25) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:03:35) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:03:38) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644", "product_ids"=>["1"]}, "commit"=>"Gimme booze"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mProduct Exists (0.1ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red Label' AND "products".id <> 1) LIMIT 1[0m
  [4;36;1mOrder Create (0.3ms)[0m   [0;1mINSERT INTO "orders" ("name", "room", "mobile", "created_at", "updated_at") VALUES('dfgdf', 'gdfgdf', '124345644', '2009-04-01 21:03:38', '2009-04-01 21:03:38')[0m
  [4;35;1mItem Create (0.1ms)[0m   [0mINSERT INTO "items" ("order_id", "product_id") VALUES(1, 1)[0m
Redirected to http://localhost:3000/orders/1
Completed in 27ms (DB: 1) | 302 Found [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#show (for ::1 at 2009-04-01 22:03:38) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mOrder Load (0.2ms)[0m   [0mSELECT * FROM "orders" WHERE ("orders"."id" = 1) [0m

ActionView::MissingTemplate (Missing template orders/show.erb in view path app/views):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
  /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)
  [4;35;1mOrder Load (0.4ms)[0m   [0mSELECT * FROM "orders" LIMIT 1[0m
  [4;36;1mOrder Load (0.3ms)[0m   [0;1mSELECT * FROM "orders" LIMIT 1[0m
  [4;35;1mItem Load (0.2ms)[0m   [0mSELECT * FROM "items" WHERE ("items".order_id = 1) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" LIMIT 1[0m
  [4;35;1mOrder Load (0.2ms)[0m   [0mSELECT "orders".* FROM "orders" INNER JOIN "items" ON "orders".id = "items".order_id WHERE (("items".product_id = 1)) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "orders" INNER JOIN "items" ON "orders".id = "items".order_id WHERE (("items".product_id = 1)) [0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:05:32) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 24ms (View: 10, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:05:38) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:05:45) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mOrder Create (0.4ms)[0m   [0mINSERT INTO "orders" ("name", "room", "mobile", "created_at", "updated_at") VALUES('dfgdf', 'gdfgdf', '124345644', '2009-04-01 21:05:45', '2009-04-01 21:05:45')[0m
Redirected to http://localhost:3000/orders/2
Completed in 17ms (DB: 1) | 302 Found [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#show (for ::1 at 2009-04-01 22:05:45) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mOrder Load (0.2ms)[0m   [0mSELECT * FROM "orders" WHERE ("orders"."id" = 2) [0m

ActionView::MissingTemplate (Missing template orders/show.erb in view path app/views):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
  /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)
  [4;36;1mOrder Load (0.4ms)[0m   [0;1mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "items" [0m
  [4;36;1mOrder Load (0.3ms)[0m   [0;1mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items".order_id = 2) [0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:06:27) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 59ms (View: 46, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:06:28) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;36;1mProduct Load (52.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m

NoMethodError (You have a nil object when you didn't expect it!
You might have expected an instance of ActiveRecord::Base.
The error occurred while evaluating nil.[]=):
  app/controllers/orders_controller.rb:6:in `block (2 levels) in <class:OrdersController>'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
  /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (53.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:06:43) [GET]
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 18ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:06:46) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:06:49) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:06:53) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mOrder Create (0.3ms)[0m   [0;1mINSERT INTO "orders" ("name", "room", "mobile", "created_at", "updated_at") VALUES('dfgdf', 'gdfgdf', '124345644', '2009-04-01 21:06:53', '2009-04-01 21:06:53')[0m
Redirected to http://localhost:3000/orders/3
Completed in 17ms (DB: 1) | 302 Found [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#show (for ::1 at 2009-04-01 22:06:53) [GET]
  Parameters: {"id"=>"3"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mOrder Load (0.2ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 3) [0m

ActionView::MissingTemplate (Missing template orders/show.erb in view path app/views):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
  /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)
  [4;36;1mOrder Load (0.3ms)[0m   [0;1mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items".order_id = 3) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "items" [0m
  [4;35;1mOrder Load (0.2ms)[0m   [0mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:08:15) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 4, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:08:16) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mOrder Create (0.4ms)[0m   [0;1mINSERT INTO "orders" ("name", "room", "mobile", "created_at", "updated_at") VALUES('dfgdf', 'gdfgdf', '124345644', '2009-04-01 21:08:16', '2009-04-01 21:08:16')[0m
Redirected to http://localhost:3000/orders/4
Completed in 18ms (DB: 1) | 302 Found [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#show (for ::1 at 2009-04-01 22:08:16) [GET]
  Parameters: {"id"=>"4"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mOrder Load (0.2ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 4) [0m

ActionView::MissingTemplate (Missing template orders/show.erb in view path app/views):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
  /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendering rescues/layout (internal_server_error)
  [4;36;1mOrder Load (0.3ms)[0m   [0;1mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;35;1mItem Load (0.1ms)[0m   [0mSELECT * FROM "items" WHERE ("items".order_id = 4) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" [0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:10:43) [GET]
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:12:15) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Exists (0.1ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red Label' AND "products".id <> 1) LIMIT 1[0m
  [4;35;1mProduct Exists (0.1ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Blue Label' AND "products".id <> 2) LIMIT 1[0m
  [4;36;1mOrder Create (0.3ms)[0m   [0;1mINSERT INTO "orders" ("name", "room", "mobile", "created_at", "updated_at") VALUES('dfgdf', 'gdfgdf', '124345644', '2009-04-01 21:12:15', '2009-04-01 21:12:15')[0m
  [4;35;1mItem Create (0.1ms)[0m   [0mINSERT INTO "items" ("order_id", "product_id") VALUES(5, 1)[0m
  [4;36;1mItem Create (0.1ms)[0m   [0;1mINSERT INTO "items" ("order_id", "product_id") VALUES(5, 2)[0m
Redirected to http://localhost:3000/orders/5
Completed in 24ms (DB: 1) | 302 Found [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#show (for ::1 at 2009-04-01 22:12:16) [GET]
  Parameters: {"id"=>"5"}
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mOrder Load (0.2ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 5) [0m
Rendering template within layouts/application
Rendering orders/show
Completed in 18ms (View: 7, DB: 1) | 200 OK [http://localhost/orders/5]
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "products" [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "items" [0m
  [4;35;1mItem Load (0.3ms)[0m   [0mSELECT * FROM "items" [0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for ::1 at 2009-04-01 22:12:39) [GET]
  [4;35;1mProduct Load (1.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (13.0ms)
Completed in 63ms (View: 52, DB: 1) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:15:03) [GET]
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:15:05) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mOrder Create (0.4ms)[0m   [0mINSERT INTO "orders" ("name", "room", "mobile", "created_at", "updated_at") VALUES('dfgdf', 'gdfgdf', '124345644', '2009-04-01 21:15:05', '2009-04-01 21:15:05')[0m
Redirected to http://localhost:3000/orders/6
Completed in 16ms (DB: 1) | 302 Found [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#show (for ::1 at 2009-04-01 22:15:05) [GET]
  Parameters: {"id"=>"6"}
  [4;36;1mOrder Load (0.2ms)[0m   [0;1mSELECT * FROM "orders" WHERE ("orders"."id" = 6) [0m
Rendering template within layouts/application
Rendering orders/show
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/orders/6]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for ::1 at 2009-04-01 22:15:09) [GET]
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:15:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.4ms)
Completed in 41ms (View: 33, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:15:12) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 39ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:15:12) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:15:13) [GET]
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 5, DB: 0) | 200 OK [http://localhost/orders/new]
  [4;36;1mProduct Load (0.8ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.8ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mOrder Load (0.3ms)[0m   [0;1mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT "products".* FROM "products" INNER JOIN "items" ON "products".id = "items".product_id WHERE (("items".order_id = 6)) [0m
  [4;36;1mOrder Load (0.3ms)[0m   [0;1mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM "products" ORDER BY products.id DESC LIMIT 1[0m
  [4;36;1mItem Create (0.4ms)[0m   [0;1mINSERT INTO "items" ("order_id", "product_id") VALUES(6, 2)[0m
  [4;35;1mProduct Load (0.5ms)[0m   [0mSELECT "products".* FROM "products" INNER JOIN "items" ON "products".id = "items".product_id WHERE (("items".order_id = 6)) [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "items" [0m
  [4;35;1mOrder Load (0.3ms)[0m   [0mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" ORDER BY products.id DESC LIMIT 1[0m
  [4;35;1mItem Create (0.4ms)[0m   [0mINSERT INTO "items" ("order_id", "product_id") VALUES(6, 2)[0m
  [4;36;1mProduct Load (0.7ms)[0m   [0;1mSELECT "products".* FROM "products" INNER JOIN "items" ON "products".id = "items".product_id WHERE (("items".order_id = 6)) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "items" [0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:19:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:19:35) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:19:35) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:19:36) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:19:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:19:36) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:19:37) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:19:41) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:19:42) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"2"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/2
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:19:42) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 1) | 200 OK [http://localhost/products/2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:19:43) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"2"}
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Redirected to http://localhost:3000/products/2
Completed in 7ms (DB: 1) | 302 Found [http://localhost/basket?id=2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:19:43) [GET]
  Parameters: {"id"=>"2"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 13ms (View: 4, DB: 1) | 200 OK [http://localhost/products/2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:19:43) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"2"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Redirected to http://localhost:3000/products/2
Completed in 7ms (DB: 1) | 302 Found [http://localhost/basket?id=2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:19:43) [GET]
  Parameters: {"id"=>"2"}
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 1) | 200 OK [http://localhost/products/2]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:19:44) [GET]
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 17ms (View: 5, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:19:47) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;35;1mProduct Load (0.6ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

NoMethodError (undefined method `<<' for #<Order:0x2f8f7f8>):
  app/controllers/orders_controller.rb:8:in `block in create'
  app/controllers/orders_controller.rb:8:in `each'
  app/controllers/orders_controller.rb:8:in `create'
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:111:in `service'
  /usr/lib/ruby19/1.9.1/webrick/httpserver.rb:70:in `run'
  /usr/lib/ruby19/1.9.1/webrick/server.rb:183:in `block in start_thread'

Rendered rescues/_trace (48.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:19:55) [GET]
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 5, DB: 1) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:19:56) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" IN (1,2)) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 2) [0m
  [4;36;1mProduct Exists (0.1ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red Label' AND "products".id <> 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red Label' AND "products".id <> 1) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red Label' AND "products".id <> 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red Label' AND "products".id <> 1) LIMIT 1[0m
  [4;36;1mProduct Exists (0.1ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Blue Label' AND "products".id <> 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Blue Label' AND "products".id <> 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Blue Label' AND "products".id <> 2) LIMIT 1[0m
  [4;35;1mOrder Create (0.3ms)[0m   [0mINSERT INTO "orders" ("name", "room", "mobile", "created_at", "updated_at") VALUES('dfgdf', 'gdfgdf', '124345644', '2009-04-01 21:19:56', '2009-04-01 21:19:56')[0m
  [4;36;1mItem Create (0.1ms)[0m   [0;1mINSERT INTO "items" ("order_id", "product_id") VALUES(7, 1)[0m
  [4;35;1mItem Create (0.1ms)[0m   [0mINSERT INTO "items" ("order_id", "product_id") VALUES(7, 1)[0m
  [4;36;1mItem Create (0.0ms)[0m   [0;1mINSERT INTO "items" ("order_id", "product_id") VALUES(7, 1)[0m
  [4;35;1mItem Create (0.0ms)[0m   [0mINSERT INTO "items" ("order_id", "product_id") VALUES(7, 1)[0m
  [4;36;1mItem Create (0.0ms)[0m   [0;1mINSERT INTO "items" ("order_id", "product_id") VALUES(7, 2)[0m
  [4;35;1mItem Create (0.0ms)[0m   [0mINSERT INTO "items" ("order_id", "product_id") VALUES(7, 2)[0m
  [4;36;1mItem Create (0.0ms)[0m   [0;1mINSERT INTO "items" ("order_id", "product_id") VALUES(7, 2)[0m
Redirected to http://localhost:3000/orders/7
Completed in 31ms (DB: 2) | 302 Found [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#show (for ::1 at 2009-04-01 22:19:56) [GET]
  Parameters: {"id"=>"7"}
  [4;35;1mOrder Load (0.2ms)[0m   [0mSELECT * FROM "orders" WHERE ("orders"."id" = 7) [0m
Rendering template within layouts/application
Rendering orders/show
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/orders/7]
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "items" [0m
  [4;35;1mOrder Load (0.3ms)[0m   [0mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;36;1mProduct Load (0.6ms)[0m   [0;1mSELECT "products".* FROM "products" INNER JOIN "items" ON "products".id = "items".product_id WHERE (("items".order_id = 7)) [0m
  [4;35;1mOrder Load (0.3ms)[0m   [0mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mOrder Load (0.3ms)[0m   [0mSELECT * FROM "orders" ORDER BY orders.id DESC LIMIT 1[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:20:26) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:20:30) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"12434564vvv4"}, "commit"=>"Gimme booze"}
Rendering template within layouts/application
Rendering orders/new
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/orders]
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "items" [0m
  [4;36;1mOrder Load (0.3ms)[0m   [0;1mSELECT * FROM "orders" LIMIT 1[0m
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT "products".* FROM "products" INNER JOIN "items" ON "products".id = "items".product_id WHERE (("items".order_id = 1)) [0m
  [4;36;1mOrder Load (0.3ms)[0m   [0;1mSELECT * FROM "orders" LIMIT 1[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "products" INNER JOIN "items" ON "products".id = "items".product_id WHERE (("items".order_id = 1)) [0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:22:05) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"12434564vvv4"}, "commit"=>"Gimme booze"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" INNER JOIN "items" ON "products".id = "items".product_id WHERE (("items".order_id = NULL)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 21ms (View: 3, DB: 0) | 200 OK [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:22:09) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "products" INNER JOIN "items" ON "products".id = "items".product_id WHERE (("items".order_id = NULL)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 15ms (View: 3, DB: 0) | 200 OK [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:22:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:22:16) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 4ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:22:17) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:22:17) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for ::1 at 2009-04-01 22:22:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:22:18) [GET]
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 54ms (View: 5, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:22:21) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mProduct Exists (0.1ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red Label' AND "products".id <> 1) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red Label' AND "products".id <> 1) LIMIT 1[0m
  [4;36;1mOrder Create (0.4ms)[0m   [0;1mINSERT INTO "orders" ("name", "room", "mobile", "created_at", "updated_at") VALUES('dfgdf', 'gdfgdf', '124345644', '2009-04-01 21:22:21', '2009-04-01 21:22:21')[0m
  [4;35;1mItem Create (0.1ms)[0m   [0mINSERT INTO "items" ("order_id", "product_id") VALUES(8, 1)[0m
  [4;36;1mItem Create (0.0ms)[0m   [0;1mINSERT INTO "items" ("order_id", "product_id") VALUES(8, 1)[0m
Redirected to http://localhost:3000/orders/8
Completed in 23ms (DB: 1) | 302 Found [http://localhost/orders]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#show (for ::1 at 2009-04-01 22:22:21) [GET]
  Parameters: {"id"=>"8"}
  [4;35;1mOrder Load (0.2ms)[0m   [0mSELECT * FROM "orders" WHERE ("orders"."id" = 8) [0m
Rendering template within layouts/application
Rendering orders/show
Completed in 10ms (View: 1, DB: 0) | 200 OK [http://localhost/orders/8]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#new (for ::1 at 2009-04-01 22:22:28) [GET]
Rendering template within layouts/application
Rendering orders/new
Completed in 13ms (View: 4, DB: 0) | 200 OK [http://localhost/orders/new]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing OrdersController#create (for ::1 at 2009-04-01 22:22:30) [POST]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "order"=>{"name"=>"dfgdf", "room"=>"gdfgdf", "mobile"=>"124345644"}, "commit"=>"Gimme booze"}
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "products" INNER JOIN "items" ON "products".id = "items".product_id WHERE (("items".order_id = NULL)) [0m
Rendering template within layouts/application
Rendering orders/new
Completed in 16ms (View: 3, DB: 0) | 200 OK [http://localhost/orders]
  [4;36;1mSQL (0.5ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateItems (20090401203431)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.5ms)[0m   [0mDROP TABLE "items"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090401203431'[0m
Migrating to CreateOrders (20090331231455)
  [4;35;1mSQL (0.7ms)[0m   [0mDROP TABLE "orders"[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090331231455'[0m
Migrating to CreateProducts (20090331230953)
  [4;35;1mSQL (0.6ms)[0m   [0mDROP TABLE "products"[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mDELETE FROM schema_migrations WHERE version = '20090331230953'[0m
  [4;35;1mSQL (0.3ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateProducts (20090331230953)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "products" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255) NOT NULL, "price" decimal NOT NULL, "quantity" integer DEFAULT 0 NOT NULL, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090331230953')[0m
Migrating to CreateOrders (20090331231455)
  [4;35;1mSQL (0.6ms)[0m   [0mCREATE TABLE "orders" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar(255), "room" varchar(255), "mobile" varchar(255), "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090331231455')[0m
Migrating to CreateItems (20090401203431)
  [4;35;1mSQL (0.5ms)[0m   [0mCREATE TABLE "items" ("order_id" integer NOT NULL, "product_id" integer NOT NULL) [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mINSERT INTO schema_migrations (version) VALUES ('20090401203431')[0m
  [4;35;1mSQL (0.4ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT version FROM schema_migrations[0m
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mPRAGMA index_list("items")[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("orders")[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mPRAGMA index_list("products")[0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for ::1 at 2009-04-01 22:23:26) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (0.4ms)
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:23:29) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/
Completed in 5ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for ::1 at 2009-04-01 22:23:29) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (0.4ms)
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for ::1 at 2009-04-01 22:23:30) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/
Completed in 4ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for ::1 at 2009-04-01 22:23:30) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (0.4ms)
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:23:47) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/
Completed in 33ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 22:23:47) [GET]
  [4;36;1mProduct Load (0.5ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (1.6ms)
Completed in 33ms (View: 26, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:23:48) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/
Completed in 5ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 22:23:48) [GET]
  [4;35;1mProduct Load (0.4ms)[0m   [0mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (0.4ms)
Completed in 8ms (View: 2, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:23:49) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/
Completed in 4ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#index (for 127.0.0.1 at 2009-04-01 22:23:49) [GET]
  [4;36;1mProduct Load (0.4ms)[0m   [0;1mSELECT * FROM "products" [0m
Rendering template within layouts/application
Rendering products/index
Rendered products/_mini (0.4ms)
Completed in 7ms (View: 2, DB: 0) | 200 OK [http://localhost/products/]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:25:49) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.1ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m

ActiveRecord::RecordNotFound (Couldn't find Product with ID=1):
  haml (2.0.9) lib/sass/plugin/rails.rb:19:in `process'
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (90.5ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (not_found)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)
  [4;36;1mProduct Exists (0.1ms)[0m   [0;1mSELECT "products".id FROM "products" WHERE ("products"."name" = 'Red label') LIMIT 1[0m
  [4;35;1mProduct Create (0.5ms)[0m   [0mINSERT INTO "products" ("name", "price", "quantity", "created_at", "updated_at") VALUES('Red label', 123.0, 1, '2009-04-01 21:26:27', '2009-04-01 21:26:27')[0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:26:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (1.5ms)
Completed in 32ms (View: 25, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:26:31) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
Redirected to http://localhost:3000/products/1
Completed in 12ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:26:31) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:26:32) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:26:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 12ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:26:33) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:26:33) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:27:38) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:27:39) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:27:39) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 9ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:27:40) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:27:41) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:27:41) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:27:42) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:27:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:27:51) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:27:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:27:52) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:27:52) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:27:53) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:27:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:27:53) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:27:53) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:14) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:14) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:16) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:16) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:17) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:18) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:18) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:18) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:25) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:26) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 5ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:27) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:28) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 43ms (View: 36, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:28) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:28) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:35) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:36) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:42) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ApplicationController#update (for 127.0.0.1 at 2009-04-01 22:30:43) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}

SyntaxError (/Users/chris/Sites/gnw/app/controllers/baskets_controller.rb:5: syntax error, unexpected '<'
... {|b| b == product.id }.size =< product.quantity
...                               ^):
  <internal:prelude>:8:in `synchronize'
  thin (1.0.0) lib/thin/connection.rb:63:in `pre_process'
  thin (1.0.0) lib/thin/connection.rb:54:in `process'
  thin (1.0.0) lib/thin/connection.rb:39:in `receive_data'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run_machine'
  eventmachine (0.12.6) lib/eventmachine.rb:240:in `run'
  thin (1.0.0) lib/thin/backends/base.rb:57:in `start'
  thin (1.0.0) lib/thin/server.rb:150:in `start'
  thin (1.0.0) lib/thin/controllers/controller.rb:80:in `start'
  thin (1.0.0) lib/thin/runner.rb:173:in `run_command'
  thin (1.0.0) lib/thin/runner.rb:139:in `run!'
  thin (1.0.0) bin/thin:6:in `<top (required)>'
  /usr/bin/thin:19:in `load'
  /usr/bin/thin:19:in `<main>'

Rendered rescues/_trace (84.6ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:50) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:51) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:51) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:52) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:52) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:53) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:53) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:30:54) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:30:54) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
  [4;36;1mProduct Load (0.3ms)[0m   [0;1mSELECT * FROM "products" LIMIT 1[0m
  [4;35;1mProduct Update (0.6ms)[0m   [0mUPDATE "products" SET "quantity" = 2, "updated_at" = '2009-04-01 21:31:49' WHERE "id" = 1[0m
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:06) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:07) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:07) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:07) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:08) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:08) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:09) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:12) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:12) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:13) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 5ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:13) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:20) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
Redirected to http://localhost:3000/products/1
Completed in 5ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:20) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:21) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.5ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:21) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.7ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 9ms (DB: 1) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:21) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:22) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:23) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:23) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:24) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.3ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:24) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:24) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:24) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 10ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 15ms (View: 5, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:25) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:25) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:25) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:26) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:26) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 11ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:44) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:46) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:46) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 13ms (View: 6, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:47) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 8ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:47) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 3, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:48) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 7ms (DB: 0) | 302 Found [http://localhost/basket?id=1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:48) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing BasketsController#update (for 127.0.0.1 at 2009-04-01 22:32:49) [PUT]
  Parameters: {"authenticity_token"=>"mROVILG8QFQoSwsfG7dOhcD0MkXAz5yqZqVIibDLmK4=", "empty"=>"true"}
  [4;36;1mProduct Load (0.2ms)[0m   [0;1mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Redirected to http://localhost:3000/products/1
Completed in 6ms (DB: 0) | 302 Found [http://localhost/basket?empty=true]
DEPRECATION WARNING: protect_from_forgery only takes :only and :except options now. :digest and :secret have no effect. (called from <class:ApplicationController> at /Users/chris/Sites/gnw/app/controllers/application_controller.rb:3)


Processing ProductsController#show (for 127.0.0.1 at 2009-04-01 22:32:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mProduct Load (0.2ms)[0m   [0mSELECT * FROM "products" WHERE ("products"."id" = 1) [0m
Rendering template within layouts/application
Rendering products/show
Rendered products/_mini (0.3ms)
Completed in 10ms (View: 4, DB: 0) | 200 OK [http://localhost/products/1]
